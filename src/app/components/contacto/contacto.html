<section id="contacto" class="contact-section">
    <h2 class="section-title">Envíame tu Propuesta</h2>

    <div class="contact-container">
        <form [formGroup]="contactForm" (ngSubmit)="enviar()" class="contact-form">
            
            <div class="form-group">
                <label for="nombre">Nombre</label>
                <input 
                    type="text" 
                    id="nombre" 
                    formControlName="name" 
                    placeholder="Tu nombre"
                    [class.invalid]="contactForm.get('name')?.invalid && contactForm.get('name')?.touched"
                >
                @if (contactForm.get('name')?.invalid && contactForm.get('name')?.touched) {
                    <small class="error-text">El nombre es requerido (mínimo 2 letras)</small>
                }
            </div>

            <div class="form-group">
                <label for="email">Correo Electrónico</label>
                <input 
                    type="email" 
                    id="email" 
                    formControlName="email" 
                    placeholder="ejemplo@correo.com"
                    [class.invalid]="contactForm.get('email')?.invalid && contactForm.get('email')?.touched"
                >
                @if (contactForm.get('email')?.invalid && contactForm.get('email')?.touched) {
                    <small class="error-text">Ingresa un correo válido</small>
                }
            </div>

            <div class="form-group">
                <label for="mensaje">Detalles de la Propuesta</label>
                <textarea 
                    id="mensaje" 
                    formControlName="message" 
                    rows="5" 
                    placeholder="Cuéntame sobre el proyecto..."
                    [class.invalid]="contactForm.get('message')?.invalid && contactForm.get('message')?.touched"
                ></textarea>
                @if (contactForm.get('message')?.invalid && contactForm.get('message')?.touched) {
                    <small class="error-text">El mensaje es muy corto</small>
                }
            </div>

            <button 
                type="submit" 
                class="btn btn-submit" 
                [disabled]="contactForm.invalid || isSubmitting">
                
                @if (isSubmitting) {
                    <span>Enviando...</span>
                } @else {
                    <span>Enviar Propuesta</span>
                }
            </button>
            
        </form>
    </div>
</section>